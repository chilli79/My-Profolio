<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saichithra S. // MARK VII ASSEMBLY</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Fonts (Mono) -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&display=swap" rel="stylesheet">

    <!-- Code Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: #020617; /* Slate 950 */
            overflow: hidden;
            color: #22d3ee; /* Cyan-400 */
        }

        /* Custom Animations */
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        @keyframes spin-reverse-slow {
            from { transform: rotate(360deg); }
            to { transform: rotate(0deg); }
        }
        @keyframes pulse-amber {
            0%, 100% { border-color: rgba(245, 158, 11, 0.3); box-shadow: 0 0 10px rgba(245, 158, 11, 0.2); }
            50% { border-color: rgba(245, 158, 11, 0.8); box-shadow: 0 0 20px rgba(245, 158, 11, 0.5); }
        }
        @keyframes scanline {
            0% { transform: translateY(-100%); }
            100% { transform: translateY(100%); }
        }
        @keyframes audio-wave {
            0%, 100% { height: 5px; }
            50% { height: 20px; }
        }

        .animate-spin-slow { animation: spin-slow 12s linear infinite; }
        .animate-spin-reverse-slow { animation: spin-reverse-slow 15s linear infinite; }
        .animate-scanline { animation: scanline 3s linear infinite; }
        
        /* Panel Transitions */
        .panel {
            transition: transform 0.5s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.5s ease;
            opacity: 0;
            pointer-events: none;
        }
        .panel.active {
            transform: translate(0, 0) !important;
            opacity: 1;
            pointer-events: auto;
        }

        /* Modal Transition */
        #detail-modal {
            transition: opacity 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }
        #detail-modal.open {
            opacity: 1;
            pointer-events: auto;
        }

        /* Scrollbar Hiding */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        ::selection { background: rgba(245, 158, 11, 0.3); color: white; }
        .core-input:focus { box-shadow: 0 0 20px #f59e0b; border-color: #f59e0b; }
        
        /* Audio Bar */
        .audio-bar {
            width: 3px;
            background: #f59e0b;
            animation: audio-wave 0.5s infinite ease-in-out;
        }
        
        /* Clip Paths for Armor Aesthetic */
        .clip-armor {
            clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
        }
    </style>
</head>
<body class="relative w-screen h-screen">

    <!-- 1. The Canvas Background (Schematics) -->
    <canvas id="schematic-canvas" class="fixed inset-0 z-0 pointer-events-none"></canvas>

    <!-- 2. HUD Overlay (Vignette & Scanlines) -->
    <div class="fixed inset-0 pointer-events-none z-10">
        <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_50%,rgba(0,0,0,0.8)_100%)]"></div>
        <div class="absolute inset-0 bg-[linear-gradient(rgba(18,16,16,0)_50%,rgba(0,0,0,0.1)_50%),linear-gradient(90deg,rgba(255,0,0,0.06),rgba(0,255,0,0.02),rgba(0,0,255,0.06))] opacity-20 bg-[length:100%_4px,3px_100%]"></div>
        
        <!-- FUI Corners -->
        <div class="absolute top-8 left-8 w-24 h-24 border-l-2 border-t-2 border-amber-600/30 rounded-tl-xl"></div>
        <div class="absolute top-8 right-8 w-24 h-24 border-r-2 border-t-2 border-amber-600/30 rounded-tr-xl"></div>
        <div class="absolute bottom-8 left-8 w-24 h-24 border-l-2 border-b-2 border-amber-600/30 rounded-bl-xl"></div>
        <div class="absolute bottom-8 right-8 w-24 h-24 border-r-2 border-b-2 border-amber-600/30 rounded-br-xl"></div>
    </div>

    <!-- 3. Header / Status Bar -->
    <div class="fixed top-0 left-0 right-0 z-20 h-16 flex items-center justify-between px-8 md:px-12 bg-black/40 backdrop-blur-sm border-b border-cyan-900/30">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full border-2 border-amber-500 bg-amber-500/10 flex items-center justify-center animate-pulse">
                <div class="w-3 h-3 bg-amber-500 rounded-full"></div>
            </div>
            <div>
                <div class="text-[10px] tracking-[0.2em] text-amber-500 font-bold">YEAGAR UI</div>
                <div class="text-[8px] text-cyan-600">SYS.VER.4.0 // ONLINE</div>
            </div>
        </div>
        
        <div id="voice-visualizer" class="hidden flex gap-1 items-end h-6">
            <div class="audio-bar" style="animation-delay: 0s"></div>
            <div class="audio-bar" style="animation-delay: 0.1s"></div>
            <div class="audio-bar" style="animation-delay: 0.2s"></div>
            <div class="audio-bar" style="animation-delay: 0.3s"></div>
            <div class="audio-bar" style="animation-delay: 0.1s"></div>
        </div>

        <div class="hidden md:flex gap-6 text-[10px] font-mono text-cyan-700">
            <span class="flex items-center gap-2"><i data-lucide="shield" class="w-3 h-3"></i> ARMOR: 85%</span>
            <span class="flex items-center gap-2"><i data-lucide="zap" class="w-3 h-3 text-amber-500"></i> PWR: STABLE</span>
        </div>
    </div>

    <!-- 4. Central Assembly Core (The "Brain") -->
    <div class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 w-96 h-96 pointer-events-none flex items-center justify-center">
        <!-- Arc Reactor Core -->
        <div class="absolute w-32 h-32 rounded-full border-4 border-cyan-400 bg-cyan-900/20 shadow-[0_0_50px_#22d3ee] flex items-center justify-center z-20">
            <div class="w-24 h-24 rounded-full border-2 border-white/50 border-dashed animate-spin-slow"></div>
            <div class="absolute w-10 h-10 bg-white/80 rounded-full blur-md animate-pulse"></div>
        </div>
        
        <!-- Rotating Armor Rings -->
        <div class="absolute w-64 h-64 border-[15px] border-amber-600/20 rounded-full border-t-amber-500 border-b-amber-500 animate-spin-slow z-10"></div>
        <div class="absolute w-80 h-80 border-[4px] border-red-900/30 rounded-full border-l-red-600 border-r-red-600 animate-spin-reverse-slow z-0"></div>
    </div>

    <!-- 5. Navigation Buttons (Orbital) -->
    <div id="nav-container">
        <!-- Profile -->
        <button onclick="togglePanel('identity')" class="fixed z-20 top-32 left-8 md:left-24 group flex items-center gap-4 transition-all hover:translate-x-2">
            <div class="w-12 h-12 bg-slate-900 border border-cyan-500/50 flex items-center justify-center clip-armor group-hover:bg-cyan-900/50 transition-colors">
                <i data-lucide="user" class="w-5 h-5 text-cyan-400"></i>
            </div>
            <span class="font-mono text-xs font-bold text-cyan-600 group-hover:text-cyan-400 tracking-widest bg-black/50 px-2 py-1">IDENTITY</span>
        </button>

        <!-- Skills -->
        <button onclick="togglePanel('modules')" class="fixed z-20 top-32 right-8 md:right-24 group flex items-center gap-4 flex-row-reverse transition-all hover:-translate-x-2">
            <div class="w-12 h-12 bg-slate-900 border border-amber-500/50 flex items-center justify-center clip-armor group-hover:bg-amber-900/50 transition-colors">
                <i data-lucide="cpu" class="w-5 h-5 text-amber-400"></i>
            </div>
            <span class="font-mono text-xs font-bold text-amber-600 group-hover:text-amber-400 tracking-widest bg-black/50 px-2 py-1">MODULES</span>
        </button>

        <!-- Projects -->
        <button onclick="togglePanel('archives')" class="fixed z-20 bottom-32 left-8 md:left-24 group flex items-center gap-4 transition-all hover:translate-x-2">
            <div class="w-12 h-12 bg-slate-900 border border-red-500/50 flex items-center justify-center clip-armor group-hover:bg-red-900/50 transition-colors">
                <i data-lucide="folder-kanban" class="w-5 h-5 text-red-400"></i>
            </div>
            <span class="font-mono text-xs font-bold text-red-600 group-hover:text-red-400 tracking-widest bg-black/50 px-2 py-1">ARCHIVES</span>
        </button>

        <!-- Timeline -->
        <button onclick="togglePanel('timeline')" class="fixed z-20 bottom-32 right-8 md:right-24 group flex items-center gap-4 flex-row-reverse transition-all hover:-translate-x-2">
            <div class="w-12 h-12 bg-slate-900 border border-emerald-500/50 flex items-center justify-center clip-armor group-hover:bg-emerald-900/50 transition-colors">
                <i data-lucide="activity" class="w-5 h-5 text-emerald-400"></i>
            </div>
            <span class="font-mono text-xs font-bold text-emerald-600 group-hover:text-emerald-400 tracking-widest bg-black/50 px-2 py-1">TIMELINE</span>
        </button>
    </div>

    <!-- 6. Command Input -->
    <div class="fixed bottom-12 left-1/2 -translate-x-1/2 z-30 w-80 md:w-[500px]">
        <div class="relative bg-black/80 backdrop-blur border border-amber-500/30 p-1 flex items-center gap-2 clip-armor shadow-[0_0_20px_rgba(245,158,11,0.1)]">
            <div class="pl-3 text-amber-500/50 animate-pulse">></div>
            <input 
                type="text" 
                id="core-input" 
                placeholder="ASK YEAGAR..." 
                class="core-input flex-1 bg-transparent border-none text-white font-mono text-sm p-2 focus:outline-none placeholder:text-slate-600 uppercase tracking-wider"
                autocomplete="off"
            >
            <button onclick="processCommand()" class="p-2 text-amber-500 hover:text-white hover:bg-amber-500/20 transition-colors">
                <i data-lucide="send" class="w-4 h-4"></i>
            </button>
        </div>
        <div class="text-center mt-2 text-[10px] text-cyan-700 font-mono">VOICE MODULE: ACTIVE // TYPE COMMAND</div>
    </div>

    <!-- 7. Panels (Hidden by default) -->

    <!-- Identity Panel -->
    <div id="panel-identity" class="panel fixed z-40 top-0 left-0 bottom-0 w-full md:w-[500px] bg-slate-950/95 backdrop-blur-xl border-r border-cyan-500/30 p-8 overflow-y-auto -translate-x-full">
        <button onclick="closeAllPanels()" class="absolute top-6 right-6 text-cyan-500 hover:text-white"><i data-lucide="x"></i></button>
        <div class="mt-12 space-y-8">
            <div>
                <h2 class="text-4xl font-black text-white mb-2">SAICHITHRA SARAVANAN</h2>
                <div class="text-xs text-amber-500 tracking-[0.2em] font-bold">SYSTEMS ARCHITECT // BLR-IN</div>
            </div>
            
            <div class="p-5 border border-cyan-500/20 bg-cyan-900/10 clip-armor">
                <h3 class="text-xs font-bold text-cyan-400 mb-3 border-b border-cyan-500/20 pb-2">MISSION_OBJECTIVE</h3>
                <p class="text-sm text-slate-300 leading-relaxed font-light">
                    Electronics and Telecommunication Engineer specializing in the convergence of Embedded Systems, FPGA Architecture, and Autonomous Robotics.
                </p>
            </div>

            <div class="p-5 border border-cyan-500/20 bg-cyan-900/10 clip-armor">
                <h3 class="text-xs font-bold text-cyan-400 mb-3 border-b border-cyan-500/20 pb-2">ACADEMIC_DATABASE</h3>
                <div class="text-white font-bold">B.E. Electronics & Telecommunication</div>
                <div class="text-xs text-cyan-500 mb-2">BMS Institute of Technology & Management</div>
                <div class="text-[10px] text-slate-500 font-mono mt-2">
                    <span class="mr-2">[DSP]</span><span class="mr-2">[VLSI]</span><span class="mr-2">[CMOS]</span><span>[CONTROL_SYS]</span>
                </div>
            </div>

            <div class="flex gap-4">
                <a href="mailto:saichithrasaravanan@gmail.com" class="flex-1 py-4 border border-amber-600 text-amber-500 text-center hover:bg-amber-600 hover:text-black transition-all font-bold text-xs tracking-widest clip-armor">EMAIL_UPLINK</a>
                <a href="https://www.linkedin.com/in/saichithra-saravanan/" target="_blank" class="flex-1 py-4 border border-cyan-500 text-cyan-500 text-center hover:bg-cyan-500 hover:text-black transition-all font-bold text-xs tracking-widest clip-armor">NET_PROFILE</a>
            </div>
        </div>
    </div>

    <!-- Modules Panel -->
    <div id="panel-modules" class="panel fixed z-40 top-0 right-0 bottom-0 w-full md:w-[500px] bg-slate-950/95 backdrop-blur-xl border-l border-amber-500/30 p-8 overflow-y-auto translate-x-full">
        <button onclick="closeAllPanels()" class="absolute top-6 left-6 text-amber-500 hover:text-white"><i data-lucide="x"></i></button>
        <div class="mt-12 text-right">
            <h2 class="text-2xl font-bold text-white mb-8 tracking-widest border-b border-amber-500/30 pb-4">SYSTEM_MODULES</h2>
            <div id="skills-container" class="space-y-6 text-left"></div>
        </div>
    </div>

    <!-- Archives Panel -->
    <div id="panel-archives" class="panel fixed z-40 bottom-0 left-0 right-0 h-[85vh] bg-slate-950/95 backdrop-blur-xl border-t border-red-500/30 p-8 overflow-y-auto translate-y-full">
        <button onclick="closeAllPanels()" class="absolute top-6 right-6 text-red-500 hover:text-white"><i data-lucide="x"></i></button>
        <div class="max-w-6xl mx-auto mt-8">
            <h2 class="text-2xl font-bold text-white mb-8 tracking-widest border-b border-red-500/30 pb-4">PROJECT_ARCHIVES</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="projects-container"></div>
        </div>
    </div>

    <!-- Timeline Panel -->
    <div id="panel-timeline" class="panel fixed z-40 top-0 left-0 right-0 h-[85vh] bg-slate-950/95 backdrop-blur-xl border-b border-emerald-500/30 p-8 overflow-y-auto -translate-y-full">
        <button onclick="closeAllPanels()" class="absolute bottom-6 right-6 text-emerald-500 hover:text-white"><i data-lucide="x"></i></button>
        <div class="max-w-4xl mx-auto mt-12">
            <h2 class="text-2xl font-bold text-white mb-8 tracking-widest text-center">TEMPORAL_LOGS</h2>
            <div class="relative border-l border-emerald-500/30 ml-4 md:ml-0 md:pl-0 space-y-12" id="timeline-container"></div>
        </div>
    </div>

    <!-- 8. Deep Scan Modal -->
    <div id="detail-modal" class="fixed inset-0 z-50 bg-black/90 backdrop-blur-xl flex items-center justify-center p-4">
        <div class="relative w-full max-w-5xl h-[90vh] bg-slate-900 border border-cyan-500/50 shadow-[0_0_50px_rgba(34,211,238,0.2)] flex flex-col clip-armor">
            <div class="flex justify-between items-center p-4 border-b border-cyan-500/30 bg-cyan-950/20">
                <div class="flex items-center gap-3">
                    <i data-lucide="scan-eye" class="w-5 h-5 text-amber-500 animate-pulse"></i>
                    <span id="modal-title" class="text-sm font-bold tracking-widest text-white">DEEP_SCAN_ANALYSIS</span>
                </div>
                <button onclick="closeDetail()" class="text-cyan-500 hover:text-white transition-colors"><i data-lucide="x" class="w-6 h-6"></i></button>
            </div>
            
            <div class="flex-1 overflow-y-auto p-6 grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="space-y-6">
                    <div class="border border-cyan-500/20 bg-cyan-900/5 aspect-video flex items-center justify-center relative overflow-hidden">
                        <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/blueprint.png')] opacity-20"></div>
                        <i data-lucide="cpu" class="w-16 h-16 text-cyan-500/30"></i>
                        <div class="absolute bottom-2 right-2 text-[10px] font-mono text-cyan-600">SCHEMATIC_VIEW_01</div>
                    </div>
                    <div>
                        <div class="text-xs font-bold text-amber-500 mb-2 flex items-center gap-2"><i data-lucide="code" class="w-3 h-3"></i> SOURCE_FRAGMENT</div>
                        <pre class="bg-black border border-slate-800 p-4 rounded text-xs overflow-x-auto"><code id="modal-code" class="language-cpp"></code></pre>
                    </div>
                </div>
                <div class="space-y-6">
                    <div>
                        <h3 class="text-xs font-bold text-cyan-400 mb-2 border-b border-cyan-500/20 pb-1">TECHNICAL_SPECIFICATIONS</h3>
                        <p id="modal-desc" class="text-sm text-slate-300 leading-relaxed font-light"></p>
                    </div>
                    <div>
                        <h3 class="text-xs font-bold text-cyan-400 mb-2 border-b border-cyan-500/20 pb-1">TECH_STACK</h3>
                        <div id="modal-stack" class="flex flex-wrap gap-2"></div>
                    </div>
                    <div class="p-4 bg-amber-900/10 border border-amber-500/30 rounded">
                        <h3 class="text-xs font-bold text-amber-400 mb-2">SYSTEM_IMPACT</h3>
                        <p id="modal-impact" class="text-xs text-amber-200/70 italic"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- 1. DATA (With Detailed Content) ---
        const SKILLS = [
            { category: "EMBEDDED", items: ["ESP32", "Arduino", "RISC-V", "8051", "ARM Cortex"] },
            { category: "ROBOTICS", items: ["PID Control", "Inv. Kinematics", "Sensor Fusion", "PWM", "Actuators"] },
            { category: "HARDWARE", items: ["Verilog/FPGA", "Cadence Virtuoso", "PCB Design", "Circuit Analysis"] },
            { category: "SOFTWARE", items: ["C/C++", "Python", "MATLAB", "Simulink", "RTOS"] }
        ];

        const PROJECTS = [
            { 
                title: "MARK I: ROBOTIC ARM", 
                type: "MECHATRONICS", 
                tech: "ESP32 // BLE", 
                desc: "Real-time control of a 4-axis robotic arm via BLE.", 
                fullDesc: "Designed a 4-Axis robotic manipulator using SG90 servos and an ESP32 microcontroller. The system features a custom Inverse Kinematics engine calculated on the edge, translating Cartesian coordinates (X,Y,Z) into servo angles in real-time. A dedicated mobile app communicates via BLE (Nordic UART Service) for latency-free teleoperation.",
                impact: "Reduced operational latency by 40% compared to Wi-Fi based controls.",
                id: "MK-01", 
                code: `void calculateIK(float x, float y, float z) {\n  float hypotenuse = sqrt(x*x + y*y);\n  float q1 = atan2(y, x);\n  // Solving geometric constraints...\n  servo1.write(degrees(q1));\n}`
            },
            { 
                title: "RAIL CRACK DETECTOR", 
                type: "TESTING", 
                tech: "ARDUINO", 
                desc: "Magnetic sensing vehicle for rail safety.", 
                fullDesc: "An autonomous inspection vehicle utilizing electromagnetic hysteresis. The system induces a magnetic field in the rail track and measures flux leakage using Hall Effect sensors. Variations in flux density indicate micro-fractures before they become critical failures.",
                impact: "Capable of detecting 0.5mm fissures at speeds up to 15km/h.",
                id: "MK-02", 
                code: `if (fluxDensity < THRESHOLD) {\n  Serial.println("ANOMALY_DETECTED");\n  logCoordinates(gps.lat, gps.lng);\n  triggerAlarm();\n}`
            },
            { 
                title: "ECOMENDER ROVER", 
                type: "AUTONOMOUS", 
                tech: "FPGA // VERILOG", 
                desc: "FPGA-controlled environmental bot.", 
                fullDesc: "A hardware-accelerated rover built on a Cyclone IV FPGA. Unlike microcontroller-based bots, the obstacle avoidance logic is synthesized directly into gates using Verilog, allowing for parallel processing of 4 ultrasonic sensors with zero CPU overhead.",
                impact: "Reaction time improved to <1ms due to hardware concurrency.",
                id: "MK-03", 
                code: `module avoidance(\n  input clk,\n  input [3:0] sensors,\n  output reg [1:0] motors\n);\n  always @(posedge clk) begin\n    if (sensors[0]) motors <= 2'b01; // Turn Left\n  end\nendmodule`
            },
            { 
                title: "ADAS LANE GUIDANCE", 
                type: "CV / AI", 
                tech: "MATLAB", 
                desc: "Simulation of lane departure systems.", 
                fullDesc: "Developed a computer vision pipeline in MATLAB/Simulink to simulate Level 2 autonomous driving features. The algorithm uses Hough Transforms for lane detection and Kalman Filters for tracking lane curvature despite visual noise.",
                impact: "Achieved 98% detection accuracy in simulated rain conditions.",
                id: "MK-04", 
                code: `edges = edge(frame, 'Canny');\n[H, T, R] = hough(edges);\nlines = houghlines(edges, T, R, 'FillGap', 20);\n// Calculate steering angle`
            },
            { 
                title: "LINE FOLLOWER BOT", 
                type: "ROBOTICS", 
                tech: "PID LOOP", 
                desc: "High-speed navigation vehicle.", 
                fullDesc: "A high-speed competitive robot utilizing a PID (Proportional-Integral-Derivative) control loop. It reads a 8-sensor IR array to calculate error from the line center and adjusts motor PWM instantly to maintain trajectory at high speeds.",
                impact: "Maintained stability at 2 m/s on complex track geometries.",
                id: "MK-05", 
                code: `float error = position - 3500;\nKp = 0.5; Kd = 1.2;\ncorrection = Kp * error + Kd * (error - lastError);\nsetMotors(baseSpeed + correction, baseSpeed - correction);`
            },
            { 
                title: "VLSI DIGITAL LOGIC", 
                type: "CHIP DESIGN", 
                tech: "CADENCE", 
                desc: "CMOS gate design and analysis.", 
                fullDesc: "Transistor-level design and layout of digital blocks including ALUs and flip-flops using Cadence Virtuoso. Performed rigorous DRC (Design Rule Check) and LVS (Layout vs Schematic) verification, along with power analysis.",
                impact: "Optimized layout area by 15% using custom cell placement.",
                id: "MK-06", 
                code: `// Verilog Testbench\ninitial begin\n  clk = 0;\n  forever #5 clk = ~clk;\nend\n\nalways @(posedge clk) begin\n  // Stimulus generation\nend`
            }
        ];

        const EXPERIENCE = [
            { role: "ENGINEERING INTERN", company: "GALORE NETWORKS", date: "2025.09 - CURRENT", desc: "Protocol validation and hardware throughput optimization." },
            { role: "ML INTERN", company: "SKILLCRAFT TECH", date: "2024.10 [3 MOS]", desc: "Telemetry data analysis and predictive models." },
            { role: "SECRETARY", company: "IEEE ANTENNAS", date: "2024 - CURRENT", desc: "Strategic leadership for technical summits." }
        ];

        // --- 2. RENDER FUNCTIONS ---
        function renderSkills() {
            document.getElementById('skills-container').innerHTML = SKILLS.map(skill => `
                <div class="relative group">
                    <div class="relative p-4 bg-slate-900 border border-amber-500/30 hover:border-amber-500/60 transition-colors">
                        <h3 class="text-amber-500 font-bold text-sm tracking-widest mb-3 flex items-center gap-2">
                            <i data-lucide="hexagon" class="w-3 h-3"></i> ${skill.category}
                        </h3>
                        <div class="flex flex-wrap gap-2">
                            ${skill.items.map(item => `<span class="text-[10px] px-2 py-1 bg-amber-900/20 border border-amber-500/20 text-amber-200">${item}</span>`).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderProjects() {
            document.getElementById('projects-container').innerHTML = PROJECTS.map((proj, index) => `
                <div onclick="openDetail(${index})" class="group cursor-pointer border border-cyan-500/20 bg-cyan-900/5 hover:bg-cyan-900/20 hover:border-cyan-400/50 transition-all duration-300 p-6 flex flex-col h-full relative overflow-hidden clip-armor">
                    <div class="absolute top-0 right-0 p-2 opacity-50 text-[10px] font-mono text-cyan-600">${proj.id}</div>
                    <div class="text-[10px] text-cyan-500 mb-2 tracking-widest">${proj.type}</div>
                    <h3 class="text-lg font-bold text-white mb-2 group-hover:text-cyan-300">${proj.title}</h3>
                    <p class="text-xs text-slate-400 leading-relaxed mb-4 flex-1">${proj.desc}</p>
                    <div class="flex justify-between items-center border-t border-cyan-500/10 pt-2">
                        <div class="text-[10px] font-mono text-cyan-700">${proj.tech}</div>
                        <div class="text-[10px] text-amber-500 flex items-center gap-1 group-hover:underline"><i data-lucide="scan-eye" class="w-3 h-3"></i> DEEP SCAN</div>
                    </div>
                </div>
            `).join('');
        }

        function renderTimeline() {
            document.getElementById('timeline-container').innerHTML = EXPERIENCE.map(exp => `
                <div class="relative md:grid md:grid-cols-12 md:gap-8 group">
                    <div class="absolute -left-[5px] md:left-auto md:right-1/2 md:-mr-[5px] top-0 w-2.5 h-2.5 bg-black border-2 border-emerald-500 rounded-full group-hover:border-white group-hover:scale-125 transition-all z-10"></div>
                    <div class="md:col-span-6 md:text-right pl-6 md:pl-0 md:pr-12">
                        <div class="text-xs font-mono text-emerald-500 mb-1">${exp.date}</div>
                        <div class="text-xl font-bold text-white group-hover:text-emerald-300 transition-colors">${exp.company}</div>
                    </div>
                    <div class="md:col-span-6 pl-6 md:pl-12 pt-2 md:pt-0">
                        <div class="text-sm font-bold text-emerald-400 mb-2">${exp.role}</div>
                        <p class="text-sm text-slate-400 leading-relaxed">${exp.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        // --- 3. UI LOGIC ---
        let currentPanel = null;

        function togglePanel(id) {
            const panel = document.getElementById(`panel-${id}`);
            if (currentPanel === id) {
                panel.classList.remove('active');
                currentPanel = null;
                speak("Closing " + id + " module.");
            } else {
                if (currentPanel) document.getElementById(`panel-${currentPanel}`).classList.remove('active');
                panel.classList.add('active');
                currentPanel = id;
                speak("Accessing " + id + " database.");
            }
        }

        function closeAllPanels() {
            if (currentPanel) {
                document.getElementById(`panel-${currentPanel}`).classList.remove('active');
                currentPanel = null;
                speak("Minimizing all windows.");
            }
        }

        // --- 4. MODAL LOGIC (Deep Scan) ---
        function openDetail(index) {
            const proj = PROJECTS[index];
            document.getElementById('modal-title').innerText = "DEEP_SCAN // " + proj.title;
            document.getElementById('modal-desc').innerText = proj.fullDesc;
            document.getElementById('modal-impact').innerText = proj.impact;
            document.getElementById('modal-code').innerText = proj.code;
            
            const techStack = proj.tech.split('//').map(t => t.trim());
            document.getElementById('modal-stack').innerHTML = techStack.map(t => 
                `<span class="px-2 py-1 bg-slate-800 border border-slate-700 text-[10px] text-cyan-300 rounded">${t}</span>`
            ).join('');

            hljs.highlightElement(document.getElementById('modal-code'));
            document.getElementById('detail-modal').classList.add('open');
            speak("Analyzing " + proj.title + ". Schematic loaded.");
        }

        function closeDetail() {
            document.getElementById('detail-modal').classList.remove('open');
        }

        // --- 5. SCHEMATIC CANVAS ANIMATION ---
        function initCanvas() {
            const canvas = document.getElementById('schematic-canvas');
            const ctx = canvas.getContext('2d');
            let width = canvas.width = window.innerWidth;
            let height = canvas.height = window.innerHeight;
            let frame = 0;

            window.addEventListener('resize', () => {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            });

            function animate() {
                frame++;
                ctx.fillStyle = '#020617';
                ctx.fillRect(0, 0, width, height);

                // Scanning Beam
                const scanY = (frame * 2) % height;
                ctx.strokeStyle = 'rgba(245, 158, 11, 0.1)';
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(0, scanY);
                ctx.lineTo(width, scanY);
                ctx.stroke();

                // Simple Grid
                const gridSize = 50;
                ctx.strokeStyle = 'rgba(34, 211, 238, 0.03)';
                for (let x = 0; x <= width; x += gridSize) {
                    ctx.beginPath(); ctx.moveTo(x, 0); ctx.lineTo(x, height); ctx.stroke();
                }
                for (let y = 0; y <= height; y += gridSize) {
                    ctx.beginPath(); ctx.moveTo(0, y); ctx.lineTo(width, y); ctx.stroke();
                }

                requestAnimationFrame(animate);
            }
            animate();
        }

        // --- 6. VOICE & AI LOGIC ---
        const apiKey = "AIzaSyALLdKDgwXfnjeGaoWrr3Gp7BJVQpsU1pg"; // <--- PASTE GEMINI KEY HERE

        function speak(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                
                const voices = window.speechSynthesis.getVoices();
                const robotVoice = voices.find(v => v.name.includes("Google US English") || v.name.includes("Samantha"));
                if (robotVoice) utterance.voice = robotVoice;
                
                utterance.rate = 1.1;
                utterance.pitch = 0.9;

                utterance.onstart = () => document.getElementById('voice-visualizer').classList.remove('hidden');
                utterance.onend = () => document.getElementById('voice-visualizer').classList.add('hidden');

                window.speechSynthesis.speak(utterance);
            }
        }

        async function processCommand() {
            const input = document.getElementById('core-input');
            const cmd = input.value.trim();
            if (!cmd) return;

            input.value = "";
            const broadcast = document.getElementById('core-input'); // Using input as visual feedback placeholder
            
            // Hardcoded Nav Commands
            if(cmd.toLowerCase().includes("open identity")) { togglePanel('identity'); return; }
            if(cmd.toLowerCase().includes("close")) { closeAllPanels(); return; }

            // Gemini Call
            if(!apiKey) {
                const err = "API Key Missing. Cannot Access AI Core.";
                speak(err);
                return;
            }

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: cmd }] }],
                        systemInstruction: { parts: [{ text: "You are YEAGAR, a sentient tactical data construct for Saichithra Saravanan. Speak in concise, uppercase military-tech syntax. Be direct." }] }
                    })
                });
                const data = await response.json();
                const reply = data.candidates[0].content.parts[0].text;
                
                speak(reply);
            } catch (e) {
                const err = "CONNECTION FAILURE";
                speak(err);
            }
        }

        document.getElementById('core-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') processCommand();
        });

        // --- INITIALIZATION ---
        window.onload = () => {
            lucide.createIcons();
            initCanvas();
            renderSkills();
            renderProjects();
            renderTimeline();
            setTimeout(() => {
                speak("YEAGAR online. Systems nominal. Welcome.");
            }, 1000);
        };
    </script>
</body>
</html>
